{"version":3,"sources":["style/globalStyle.js","contexts.js","utils.js","components/Header/HeaderStyle.js","components/Header/Header.js","WebAPI.js","pages/HomePage/HomePageStyle.js","pages/HomePage/HomePage.js","pages/PostListPage/PostListPageStyle.js","pages/PostListPage/PostListPage.js","pages/PostPage/PostPageStyle.js","pages/PostPage/PostPage.js","style/formStyle.js","pages/LoginPage/LoginPage.js","pages/LoadingPage/LoadingPageStyle.js","pages/LoadingPage/LoadingPage.js","pages/RegisterPage/RegisterPage.js","pages/NewPostPage/NewPostPageStyle.js","pages/NewPostPage/NewPostPage.js","pages/AboutPage/AboutPageStyle.js","pages/AboutPage/AboutPage.js","components/App/App.js","index.js"],"names":["GlobalStyle","createGlobalStyle","AuthContext","createContext","LoadingContext","TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","HeaderContainer","styled","div","Brand","Link","NavbarList","Nav","NavLink","LeftContainer","activeStyle","Header","isUser","useContext","user","setUser","to","onClick","BASE_URL","register","nickname","username","password","a","fetch","method","headers","body","JSON","stringify","response","json","data","console","log","message","login","getMe","authorization","getPostsList","getPosts","page","total","get","getPostId","id","getUserPosts","userId","createNewPost","title","deletePost","HomePostList","HomePostContainer","HomePostTitle","HomePostBody","HomePostAuthor","HomePostDate","Pagination","PageBtn","CurrentPage","TotalPage","HomePost","post","Date","createdAt","toLocaleDateString","Markdown","source","HomePage","setIsLoading","useState","posts","setPosts","setPage","totalPostPages","setTotalPostPages","isPaginationLoading","setIsPaginationLoading","useLayoutEffect","fetchGetHomePosts","Math","ceil","map","window","scrollTo","PostList","ButtonWrapper","PostListButton","props","$active","YearContainer","Year","span","PostContainer","PostTitle","PostDate","Post","substring","PostListPage","postState","setPostState","years","setYears","fetchPostList","sort","b","useEffect","yearsArray","push","getFullYear","Set","handleAllPosts","handleUserPosts","fetchUserPostList","year","index","filter","DeleteButton","PostBody","PostInfo","PostAuthor","PostCreatedAt","PostContent","PostPage","useParams","history","useHistory","setPost","setUserId","FetchGetPost","then","goBack","flow","keyframes","FormContainer","form","FormTitleButton","button","FormInfo","label","FormText","FormInput","input","ErrorMessage","LoginPage","setUsername","setPassword","errorMessage","setErrorMessage","handleSubmit","e","preventDefault","loginResponse","ok","getMeResponse","toString","handleInputFocus","onSubmit","value","onChange","target","onFocus","type","LoadingWrapper","Loading","LoadingPage","setNickname","registerResponse","NewPostContainer","NewPostTitle","NewPostTitleInput","NewPostBody","NewPostButton","textarea","NewPostPage","titleValue","setTitleValue","postValue","setPostValue","handleSendPost","placeholder","height","textareaProps","AboutContainer","AboutText","AboutPage","Root","App","setIsUser","isLoading","Provider","exact","path","RegisterPage","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.789abedc.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components'\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  * {\r\n    box-sizing: border-box;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n  \r\n  a {\r\n    text-decoration: none;\r\n    display: flex;\r\n  \r\n    &:hover {\r\n      text-decoration: none;\r\n    }\r\n  }\r\n  \r\n  a:hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  input {\r\n    outline: none;\r\n    border: none;\r\n  }\r\n  \r\n  button {\r\n    border: none;\r\n    cursor: pointer;\r\n  }\r\n  button:hover, button:focus {\r\n    outline: none;\r\n  }\r\n`\r\n\r\nexport default GlobalStyle\r\n","import { createContext } from \"react\"\r\n\r\nexport const AuthContext = createContext(null)\r\nexport const LoadingContext = createContext(null)","import { useEffect } from 'react'\r\nimport { useLocation } from 'react-router-dom'\r\n\r\nconst TOKEN_NAME = 'token'\r\n\r\nexport const setAuthToken = (token) => {\r\n  localStorage.setItem(TOKEN_NAME, token)\r\n}\r\n\r\nexport const getAuthToken = () => {\r\n  return localStorage.getItem(TOKEN_NAME)\r\n}\r\n\r\nexport function ScrollToTop() {\r\n  const { pathname } = useLocation()\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [pathname])\r\n\r\n  return null\r\n}\r\n","import styled from 'styled-components'\nimport { Link, NavLink } from 'react-router-dom'\n\n export const HeaderContainer = styled.div`\n  height: 64px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  padding: 0 32px;\n  background: white;\n  z-index: 50;\n`\n\n export const Brand = styled(Link)`\n  font-size: 32px;\n  font-weight: bold;\n  color: black;\n\n  &:hover {\n    color: #145df6;\n  }\n`\n\n export const NavbarList = styled.div`\n  display: flex;\n  align-items: center;\n  height: 64px;\n`\n\n export const Nav = styled(NavLink)`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100px;\n  color: black;\n\n  &:before {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    width: 0;\n    height: 2px;\n    background: #145df6;\n    transition: width 0.5s;\n  }\n\n  &:hover:before {\n    width: 100px;\n  }\n`\n\n export const LeftContainer = styled.div`\n  display: flex;\n  align-items: center;\n\n  ${NavbarList} {\n    margin-left: 64px;\n  }\n`\n","import React, { useContext } from 'react'\nimport PropTypes from 'prop-types'\nimport { AuthContext } from '../../contexts'\nimport { setAuthToken } from '../../utils'\nimport {\n  HeaderContainer,\n  LeftContainer,\n  Brand,\n  NavbarList,\n  Nav,\n} from './HeaderStyle'\n\nconst activeStyle = {\n  'font-weight': '600',\n  'border-bottom': '2px solid rgba(0, 0, 0, 0.5)',\n}\n\nfunction Header({ isUser }) {\n  const { user, setUser } = useContext(AuthContext)\n\n  const handleLogout = () => {\n    setAuthToken('')\n    setUser(null)\n  }\n\n  return (\n    <HeaderContainer>\n      {isUser && (\n        <>\n          <LeftContainer>\n            <Brand to=\"/\">Blog</Brand>\n            <NavbarList>\n              <Nav to=\"/posts-list\" activeStyle={activeStyle}>\n                文章列表\n              </Nav>\n              <Nav to=\"/about\" activeStyle={activeStyle}>\n                關於我\n              </Nav>\n              {user && (\n                <Nav to=\"/new-post\" activeStyle={activeStyle}>\n                  發布文章\n                </Nav>\n              )}\n            </NavbarList>\n          </LeftContainer>\n          <NavbarList>\n            {!user && (\n              <>\n                <Nav to=\"/register\" activeStyle={activeStyle}>\n                  註冊\n                </Nav>\n                <Nav to=\"/login\" activeStyle={activeStyle}>\n                  登入\n                </Nav>\n              </>\n            )}\n            {user && (\n              <Nav to=\"/\" onClick={handleLogout}>\n                登出\n              </Nav>\n            )}\n          </NavbarList>\n        </>\n      )}\n    </HeaderContainer>\n  )\n}\n\nHeader.propTypes = {\n  isUser: PropTypes.bool,\n}\n\nexport default Header\n","import { getAuthToken } from './utils'\r\n\r\nconst BASE_URL = 'https://student-json-api.lidemy.me'\r\nconst POST_LIMIT = 5\r\n\r\nexport const register = async (nickname, username, password) => {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}/register`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'content-type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        nickname,\r\n        username,\r\n        password,\r\n      }),\r\n    })\r\n    const data = await response.json()\r\n    return data\r\n  } catch (err) {\r\n    console.log(err.message)\r\n  }\r\n}\r\n\r\nexport const login = async (username, password) => {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}/login`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'content-type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        username,\r\n        password,\r\n      }),\r\n    })\r\n    const data = response.json()\r\n    return data\r\n  } catch (err) {\r\n    console.log(err.message)\r\n  }\r\n}\r\n\r\nexport const getMe = async () => {\r\n  const token = getAuthToken()\r\n  try {\r\n    const response = await fetch(`${BASE_URL}/me`, {\r\n      headers: {\r\n        authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n    const data = response.json()\r\n    return data\r\n  } catch (err) {\r\n    console.log(err.message)\r\n  }\r\n}\r\n\r\nexport const getPostsList = async () => {\r\n  try {\r\n    const response = await fetch(\r\n      `${BASE_URL}/posts?_sort=createdAt&_order=desc`\r\n    )\r\n    const data = await response.json()\r\n    return data\r\n  } catch (err) {\r\n    console.log(err.message)\r\n  }\r\n}\r\n\r\nexport const getPosts = async (page) => {\r\n  try {\r\n    const response = await fetch(\r\n      `${BASE_URL}/posts?&_page=${page}&_limit=${POST_LIMIT}&_expand=user&_sort=createdAt&_order=desc`\r\n    )\r\n    const data = await response.json()\r\n    const total = response.headers.get('x-total-count') \r\n    return { data, total }\r\n  } catch (err) {\r\n    console.log(err.message)\r\n  }\r\n}\r\n\r\nexport const getPostId = async (id) => {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}/posts/${id}?_expand=user`)\r\n    const data = await response.json()\r\n    return data\r\n  } catch (err) {\r\n    console.log(err.message)\r\n  }\r\n}\r\n\r\nexport const getUserPosts = async (userId) => {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}/users/${userId}?_embed=posts`)\r\n    const data = await response.json()\r\n    console.log(data)\r\n    return data\r\n  } catch (err) {\r\n    console.log(err.message)\r\n  }\r\n}\r\n\r\nexport const createNewPost = async (title, body) => {\r\n  const token = getAuthToken()\r\n  try {\r\n    const response = await fetch(`${BASE_URL}/posts`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: `Bearer ${token}`,\r\n        'content-type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        title,\r\n        body,\r\n      }),\r\n    })\r\n    const data = response.json()\r\n    return data\r\n  } catch (err) {\r\n    console.log(err.message)\r\n  }\r\n}\r\n\r\nexport const deletePost = async (id) => {\r\n  const token = getAuthToken()\r\n  try {\r\n    const response = await fetch(`${BASE_URL}/posts/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: `Bearer ${token}`,\r\n        'content-type': 'application/json',\r\n      }\r\n    })\r\n    const data = await response.json\r\n    return data\r\n  } catch (err) {\r\n    console.log(err.message)\r\n  }\r\n}\r\n","import styled from 'styled-components'\nimport { Link } from 'react-router-dom'\n\nexport const HomePostList = styled.div`\n  padding: 16px;\n  max-width: 800px;\n  margin: 40px auto;\n`\n\nexport const HomePostContainer = styled(Link)`\n  border: 1px solid #ccc;\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);\n  color: #333;\n\n  & + & {\n    margin-top: 24px;\n  }\n\n  &:hover {\n    color: blue;\n  }\n`\n\nexport const HomePostTitle = styled.div`\n  font-size: 24px;\n  font-weight: 600;\n  margin-bottom: 16px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`\n\nexport const HomePostBody = styled.div`\n  font-size: 18px;\n  line-height: 1.5;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 4;\n  -webkit-box-orient: vertical;\n  color: #333;\n\n  word-wrap: break-word;\n  word-break: break-all;\n  white-space: pre-wrap;\n`\n\nexport const HomePostAuthor = styled.div`\n  font-size: 14px;\n  margin-bottom: 4px;\n  color: rgba(0, 0, 0, 0.5);\n`\n\nexport const HomePostDate = styled.div`\n  color: rgba(0, 0, 0, 0.5);\n  font-size: 14px;\n  margin-bottom: 16px;\n`\n\nexport const Pagination = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: baseline;\n  margin: 28px 0 8px;\n`\n\nexport const PageBtn = styled.div`\n  cursor: pointer;\n  font-weight: bold;\n\n  &:hover {\n    color: #145df6;\n  }\n`\nexport const CurrentPage = styled.div`\n  margin: 0 16px;\n`\n\nexport const TotalPage = styled.div`\n  text-align: center;\n`\n","import React, { useState, useLayoutEffect, useContext } from 'react'\nimport PropTypes from 'prop-types'\nimport MDEditor from '@uiw/react-md-editor'\nimport { getPosts } from '../../WebAPI'\nimport { LoadingContext } from '../../contexts'\nimport {\n  HomePostContainer,\n  HomePostTitle,\n  HomePostAuthor,\n  HomePostDate,\n  HomePostBody,\n  HomePostList,\n  Pagination,\n  PageBtn,\n  CurrentPage,\n  TotalPage,\n} from './HomePageStyle'\n\nfunction HomePost({ post }) {\n  return (\n    <HomePostContainer to={`/posts/${post.id}`}>\n      <HomePostTitle>{post.title}</HomePostTitle>\n      <HomePostAuthor>{post.user && post.user.nickname}</HomePostAuthor>\n      <HomePostDate>\n        {new Date(post.createdAt).toLocaleDateString()}\n      </HomePostDate>\n      <HomePostBody>\n        <MDEditor.Markdown source={post.body} />\n      </HomePostBody>\n    </HomePostContainer>\n  )\n}\n\nHomePost.propTypes = {\n  post: PropTypes.object,\n}\n\nfunction HomePage() {\n  const { setIsLoading } = useContext(LoadingContext)\n  const [posts, setPosts] = useState([])\n  const [page, setPage] = useState(1)\n  const [totalPostPages, setTotalPostPages] = useState(0)\n  const [isPaginationLoading, setIsPaginationLoading] = useState(null)\n\n  useLayoutEffect(() => {\n    const fetchGetHomePosts = async () => {\n      setIsLoading(true)\n      setIsPaginationLoading(false)\n\n      const data = await getPosts(page)\n      setPosts(data.data)\n      setTotalPostPages(Math.ceil((data.total - 1) / 5))\n\n      setIsLoading(false)\n      setIsPaginationLoading(true)\n    }\n\n    fetchGetHomePosts()\n  }, [setIsLoading, page, totalPostPages])\n\n  const handlePreBtnClick = () => {\n    if (page > 1) {\n      setPage(page - 1)\n    }\n    window.scrollTo(0, 0)\n  }\n\n  const handleNextBtnClick = () => {\n    if (page < totalPostPages) {\n      setPage(page + 1)\n    }\n    window.scrollTo(0, 0)\n  }\n\n  return (\n    <HomePostList>\n      {posts.map((post) => (\n        <HomePost key={post.id} post={post} />\n      ))}\n      {isPaginationLoading && (\n        <>\n          <Pagination>\n            <PageBtn onClick={handlePreBtnClick}>＜</PageBtn>\n            <CurrentPage>{page}</CurrentPage>\n            <PageBtn onClick={handleNextBtnClick}>＞</PageBtn>\n          </Pagination>\n          <TotalPage>\n            {page} / {totalPostPages}\n          </TotalPage>\n        </>\n      )}\n    </HomePostList>\n  )\n}\n\nexport default HomePage\n","import styled from 'styled-components'\nimport { Link } from 'react-router-dom'\n\nexport const PostList = styled.div`\n  padding: 16px;\n  max-width: 800px;\n  margin: 40px auto;\n`\nexport const ButtonWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nexport const PostListButton = styled.div`\n  margin: 0 8px;\n  cursor: pointer;\n  color: ${(props) => (props.$active ? 'black' : 'gray')};\n  font-weight: ${(props) => (props.$active ? '600' : '')};\n\n  &:hover {\n    color: #145df6;\n  }\n`\n\nexport const YearContainer = styled.div`\n  padding-top: 32px;\n\n  & + & {\n    margin-top: 32px;\n  }\n`\n\nexport const Year = styled.span`\n  display: inline-block;\n  font-size: 32px;\n  font-weight: 600;\n  margin-bottom: 24px;\n  border-bottom: 3px solid #145df6;\n`\n\nexport const PostContainer = styled(Link)`\n  padding: 8px 24px;\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  background: white;\n\n  &:hover {\n    transform: scale(1.1);\n    border: 1px solid #ccc;\n    box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);\n  }\n`\n\nexport const PostTitle = styled.div`\n  font-size: 24px;\n  color: #333;\n  max-width: 600px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`\n\nexport const PostDate = styled.div`\n  color: rgba(0, 0, 0, 0.7);\n  font-size: 14px;\n`\n","import React, { useLayoutEffect, useEffect, useState, useContext } from 'react'\nimport PropTypes from 'prop-types'\nimport { getPostsList, getUserPosts } from '../../WebAPI'\nimport { AuthContext, LoadingContext } from '../../contexts'\nimport {\n  PostContainer,\n  PostTitle,\n  PostDate,\n  PostList,\n  ButtonWrapper,\n  PostListButton,\n  YearContainer,\n  Year,\n} from './PostListPageStyle'\n\nfunction Post({ post }) {\n  return (\n    <PostContainer to={`/posts/${post.id}`}>\n      <PostTitle>{post.title}</PostTitle>\n      <PostDate>\n        {new Date(post.createdAt).toLocaleDateString().substring(5, 10)}\n      </PostDate>\n    </PostContainer>\n  )\n}\n\nPost.propTypes = {\n  post: PropTypes.object,\n}\n\nfunction PostListPage() {\n  const { user } = useContext(AuthContext)\n  const { setIsLoading } = useContext(LoadingContext)\n  const [posts, setPosts] = useState([])\n  const [postState, setPostState] = useState('allPosts')\n  const [years, setYears] = useState([])\n\n  useLayoutEffect(() => {\n    const fetchPostList = async () => {\n      setIsLoading(true)\n\n      if (user) {\n        const userId = user.id\n        const data = await getUserPosts(userId)\n\n        const posts = data.posts.sort((a, b) => {\n          return a.createdAt < b.createdAt ? 1 : -1\n        })\n        setPosts(posts)\n        setPostState('myPosts')\n        setIsLoading(false)\n        return\n      }\n\n      const data = await getPostsList()\n      setPosts(data)\n      setIsLoading(false)\n    }\n\n    fetchPostList()\n  }, [setIsLoading, user])\n\n  useEffect(() => {\n    const yearsArray = []\n    for (const post of posts) {\n      yearsArray.push(new Date(post.createdAt).getFullYear())\n    }\n\n    setYears([...new Set(yearsArray)])\n  }, [posts])\n\n  const handleAllPosts = () => {\n    setPostState('allPosts')\n    const fetchPostList = async () => {\n      setIsLoading(true)\n\n      const data = await getPostsList()\n\n      setPosts(data)\n      setIsLoading(false)\n    }\n    fetchPostList()\n  }\n\n  const handleUserPosts = () => {\n    setPostState('myPosts')\n    const fetchUserPostList = async () => {\n      setIsLoading(true)\n\n      const userId = user.id\n      const data = await getUserPosts(userId)\n      const posts = data.posts.sort((a, b) => {\n          return a.createdAt < b.createdAt ? 1 : -1\n        })\n\n      setPosts(posts)\n      setIsLoading(false)\n    }\n    fetchUserPostList()\n  }\n\n  return (\n    <PostList>\n      {user && (\n        <ButtonWrapper>\n          {postState === 'allPosts' && (\n            <>\n              <PostListButton $active onClick={handleAllPosts}>\n                all posts\n              </PostListButton>{' '}\n              /\n              <PostListButton onClick={handleUserPosts}>\n                my posts\n              </PostListButton>\n            </>\n          )}\n          {postState === 'myPosts' && (\n            <>\n              <PostListButton onClick={handleAllPosts}>\n                all posts\n              </PostListButton>{' '}\n              /\n              <PostListButton $active onClick={handleUserPosts}>\n                my posts\n              </PostListButton>\n            </>\n          )}\n        </ButtonWrapper>\n      )}\n      {years.map((year, index) => {\n        return (\n          <YearContainer key={index}>\n            <Year>{year}</Year>\n            {posts\n              .filter((post) => new Date(post.createdAt).getFullYear() === year)\n              .map((post) => (\n                <Post key={post.id} post={post} />\n              ))}\n          </YearContainer>\n        )\n      })}\n    </PostList>\n  )\n}\n\nexport default PostListPage\n","import styled from 'styled-components'\n\nexport const PostContainer = styled.div`\n  width: 70%;\n  margin: 56px auto;\n  position: relative;\n`\n\nexport const DeleteButton = styled.div`\n  position: absolute;\n  right: 0;\n  top: 10px;\n  cursor: pointer;\n\n  &:hover {\n    color: #145df6;\n    font-weight: 600;\n  }\n`\n\nexport const PostTitle = styled.div`\n  font-size: 28px;\n  font-weight: bold;\n  text-align: center;\n  padding-bottom: 16px;\n  border-bottom: 1px solid #ccc;\n  word-wrap: break-word;\n  word-break: break-all;\n`\n\nexport const PostBody = styled.div`\n  padding: 16px 18px 0;\n  max-width: 800px;\n  margin: 0 auto;\n`\n\nexport const PostInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 24px;\n`\n\nexport const PostAuthor = styled.div`\n  font-size: 16px;\n  color: #333;\n  margin-bottom: 4px;\n`\n\nexport const PostCreatedAt = styled.div`\n  font-size: 14px;\n  text-align: right;\n  color: gray;\n`\n\nexport const PostContent = styled.div`\n  margin-bottom: 28px;\n  line-height: 1.7;\n  word-wrap: break-word;\n  word-break: break-all;\n  white-space: pre-wrap;\n`\n","import React, { useLayoutEffect, useState, useContext } from 'react'\nimport { useParams, useHistory } from 'react-router-dom'\nimport MDEditor from '@uiw/react-md-editor'\nimport { getPostId, deletePost } from '../../WebAPI'\nimport { AuthContext, LoadingContext } from '../../contexts'\nimport {\n  PostContainer,\n  DeleteButton,\n  PostTitle,\n  PostBody,\n  PostInfo,\n  PostAuthor,\n  PostCreatedAt,\n  PostContent,\n} from './PostPageStyle'\n\nfunction PostPage() {\n  const { id } = useParams()\n  const { user } = useContext(AuthContext)\n  const { setIsLoading } = useContext(LoadingContext)\n  const history = useHistory()\n  const [post, setPost] = useState({})\n  const [userId, setUserId] = useState(null)\n\n\n  useLayoutEffect(() => {\n    const FetchGetPost = async () => {\n      setIsLoading(true)\n     \n      const data = await getPostId(id)\n      setPost(data)  \n      setUserId(data.user.id)\n      setIsLoading(false)\n    }\n\n    FetchGetPost()\n  }, [setIsLoading, id])\n\n  const handleDelete = () => {\n    deletePost(id).then(() => {\n      history.goBack()\n    })\n  }\n\n  return (\n    <PostContainer>\n      {user && user.id === userId && <DeleteButton onClick={handleDelete}>刪除</DeleteButton>}\n      <PostTitle>{post.title}</PostTitle>\n      <PostBody>\n        <PostInfo>\n          <PostAuthor>{post.user && post.user.nickname}</PostAuthor>\n          <PostCreatedAt>\n            {new Date(post.createdAt).toLocaleDateString()}\n          </PostCreatedAt>\n        </PostInfo>\n        <PostContent>\n          <MDEditor.Markdown source={post.body} />\n        </PostContent>\n      </PostBody>\n    </PostContainer>\n  )\n}\n\nexport default PostPage\n","import styled, { keyframes } from 'styled-components'\n\nexport const flow = keyframes`\n  0% {\n    border-bottom: 1px solid #ccc;\n  }\n\n  50% {\n    border-bottom: 1px solid #145df6;\n    color: #145df6;\n  }\n\n  100% {\n    border-bottom: 1px solid #ccc;\n  }\n`\n\nexport const FormContainer = styled.form`\n  width: 70%;\n  margin: 56px auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n`\n\nexport const FormTitleButton = styled.button`\n  font-size: 28px;\n  font-weight: bold;\n  text-align: center;\n  padding-bottom: 16px;\n  width: 100%;\n  margin-bottom: 54px;\n  border-bottom: 1px solid #ccc;\n  animation: ${flow} 2s infinite;\n  background: none;\n`\nexport const FormInfo = styled.label`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  & + & {\n    margin-top: 48px;\n  }\n`\n\nexport const FormText = styled.div`\n  margin-right: 24px;\n  color: #333;\n  font-weight: 600;\n`\n\nexport const FormInput = styled.input`\n  display: block;\n  padding: 6px 0;\n\n  &::-webkit-input-placeholder {\n    text-align: center;\n  }\n\n  &:focus {\n    border-bottom: 1px solid #ccc;\n  }\n`\n\nexport const ErrorMessage = styled.div`\n  color: red;\n  position: absolute;\n  top: 70px;\n`\n","import React, { useState, useContext } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { login, getMe } from '../../WebAPI'\nimport { setAuthToken } from '../../utils'\nimport { AuthContext } from '../../contexts'\nimport {\n  FormContainer,\n  FormTitleButton,\n  FormInfo,\n  FormInput,\n  FormText,\n  ErrorMessage,\n} from '../../style/formStyle'\n\nfunction LoginPage() {\n  const { setUser } = useContext(AuthContext)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [errorMessage, setErrorMessage] = useState()\n  const history = useHistory()\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setErrorMessage(null)\n\n    const loginResponse = await login(username, password)\n\n    if (!loginResponse.ok) {\n      setErrorMessage(loginResponse.message)\n      return\n    }\n\n    setAuthToken(loginResponse.token)\n\n    const getMeResponse = await getMe()\n\n    if (!getMeResponse) {\n      setAuthToken(null)\n      setErrorMessage(getMeResponse.toString())\n      return\n    }\n    setUser(getMeResponse.data)\n    history.push('/')\n  }\n\n  const handleUsernameInput = (e) => {\n    setUsername(e.target.value)\n  }\n\n  const handlePasswordInput = (e) => {\n    setPassword(e.target.value)\n  }\n\n  const handleInputFocus = () => {\n    setErrorMessage(null)\n  }\n\n  return (\n    <FormContainer onSubmit={handleSubmit}>\n      <FormTitleButton>登入</FormTitleButton>\n      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n      <FormInfo>\n        <FormText>username</FormText>\n        <FormInput\n          value={username}\n          onChange={handleUsernameInput}\n          onFocus={handleInputFocus}\n        />\n      </FormInfo>\n      <FormInfo>\n        <FormText>password</FormText>\n        <FormInput\n          type=\"password\"\n          value={password}\n          onChange={handlePasswordInput}\n          onFocus={handleInputFocus}\n        />\n      </FormInfo>\n    </FormContainer>\n  )\n}\n\nexport default LoginPage\n","import styled, { keyframes } from 'styled-components'\n\nconst flow = keyframes`\n  0% {\n    border-bottom: 3px solid #ccc;\n  }\n\n  50% {\n    border-bottom: 3px solid #145df6;\n    color: #333;\n  }\n\n  100% {\n    border-bottom: 3px solid #ccc;\n  }\n`\n\nexport const LoadingWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background: white;\n  z-index: 10;\n`\nexport const Loading = styled.div`\n  font-size: 48px;\n  padding: 0 24px 16px;\n  color: #ccc;\n  animation: ${flow} 2s infinite;\n`\n","import React from 'react'\nimport {LoadingWrapper, Loading} from './LoadingPageStyle'\n\nfunction LoadingPage() {\n  return (\n    <LoadingWrapper>\n      <Loading>Loading</Loading>\n    </LoadingWrapper>\n  )\n}\n\nexport default LoadingPage\n","import React, { useState, useContext } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { register, getMe } from '../../WebAPI'\nimport { setAuthToken } from '../../utils'\nimport { AuthContext } from '../../contexts'\nimport {\n  FormContainer,\n  FormTitleButton,\n  FormInfo,\n  FormInput,\n  FormText,\n  ErrorMessage,\n} from '../../style/formStyle'\n\nfunction LoginPage() {\n  const { setUser } = useContext(AuthContext)\n  const [nickname, setNickname] = useState('')\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [errorMessage, setErrorMessage] = useState()\n  const history = useHistory()\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setErrorMessage(null)\n\n    const registerResponse = await register(nickname, username, password)\n\n    if (!registerResponse.ok) {\n      setErrorMessage(registerResponse.message)\n      return\n    }\n\n    setAuthToken(registerResponse.token)\n\n    const getMeResponse = await getMe()\n\n    if (!getMeResponse) {\n      setAuthToken(null)\n      setErrorMessage(getMeResponse.toString())\n      return\n    }\n    setUser(getMeResponse.data)\n    history.push('/')\n  }\n\n  const handleNicknameInput = (e) => {\n    setNickname(e.target.value)\n  }\n\n  const handleUsernameInput = (e) => {\n    setUsername(e.target.value)\n  }\n\n  const handlePasswordInput = (e) => {\n    setPassword(e.target.value)\n  }\n\n  const handleInputFocus = () => {\n    setErrorMessage(null)\n  }\n\n  return (\n    <FormContainer onSubmit={handleSubmit}>\n      <FormTitleButton>註冊</FormTitleButton>\n      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n      <FormInfo>\n        <FormText>nickname</FormText>\n        <FormInput\n          value={nickname}\n          onChange={handleNicknameInput}\n          onFocus={handleInputFocus}\n        />\n      </FormInfo>\n      <FormInfo>\n        <FormText>username</FormText>\n        <FormInput\n          value={username}\n          onChange={handleUsernameInput}\n          onFocus={handleInputFocus}\n        />\n      </FormInfo>\n      <FormInfo>\n        <FormText>password</FormText>\n        <FormInput\n          type=\"password\"\n          value={password}\n          onChange={handlePasswordInput}\n          onFocus={handleInputFocus}\n        />\n      </FormInfo>\n    </FormContainer>\n  )\n}\n\nexport default LoginPage\n","import styled, { keyframes } from 'styled-components'\n\nexport const flow = keyframes`\n  0% {\n    border-bottom: 1px solid #ccc;\n  }\n\n  50% {\n    border-bottom: 1px solid #145df6;\n    color: #145df6;\n  }\n\n  100% {\n    border-bottom: 1px solid #ccc;\n  }\n`\n\nexport const NewPostContainer = styled.div`\n  max-width: 800px;\n  margin: 56px auto;\n  padding: 24px;\n  display: flex;\n  flex-direction: column;\n`\n\nexport const NewPostTitle = styled.label`\n  margin-bottom: 54px;\n  width: 100%;\n`\n\nexport const NewPostTitleInput = styled.input`\n  width: 100%;\n  padding: 4px 8px;\n  text-overflow: ellipsis;\n  overflow: auto;\n\n  &:focus {\n    border-bottom: 1px solid #333;\n  }\n`\n\nexport const NewPostBody = styled.label`\n  display: block;\n  margin-bottom: 54px;\n`\n\nexport const NewPostContent = styled.textarea`\n  width: 100%;\n  padding: 16px 8px;\n`\n\nexport const NewPostButton = styled.button`\n  background: none;\n  padding-bottom: 4px;\n  font-size: 18px;\n  font-weight: bold;\n  animation: ${flow} 2s infinite;\n`\n\nexport const ErrorMessage = styled.div`\n  color: red;\n  text-align: center;\n  margin-top: 16px;\n`\n","import React, { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport MDEditor from '@uiw/react-md-editor'\nimport { createNewPost } from '../../WebAPI'\nimport {\n  NewPostContainer,\n  NewPostTitle,\n  NewPostTitleInput,\n  NewPostBody,\n  NewPostButton,\n  ErrorMessage,\n} from './NewPostPageStyle'\n\nfunction NewPostPage() {\n  const [titleValue, setTitleValue] = useState('')\n  const [postValue, setPostValue] = useState('')\n  const [errorMessage, setErrorMessage] = useState()\n\n  const history = useHistory()\n\n  const handleTitleInput = (e) => {\n    setTitleValue(e.target.value)\n  }\n\n  const handleInputFocus = () => {\n    setErrorMessage(null)\n  }\n\n  const handleSendPost = async (e) => {\n    e.preventDefault()\n    setErrorMessage(null)\n\n    if (!titleValue || !postValue) return setErrorMessage('未確實填寫')\n\n    const data = await createNewPost(titleValue, postValue)\n\n    if (data.id) {\n      history.push(`/posts/${data.id}`)\n    }\n  }\n\n  return (\n    <NewPostContainer>\n      <NewPostTitle>\n        <NewPostTitleInput\n          onFocus={handleInputFocus}\n          onChange={handleTitleInput}\n          placeholder=\"輸入標題...\"\n        />\n      </NewPostTitle>\n      <NewPostBody>\n        <MDEditor\n          value={postValue}\n          height={300}\n          textareaProps={{\n            placeholder: 'Please enter Markdown text',\n          }}\n          onChange={setPostValue}\n        />\n      </NewPostBody>\n      <NewPostButton onClick={handleSendPost}>送出</NewPostButton>\n      {errorMessage && <ErrorMessage>{errorMessage}</ErrorMessage>}\n    </NewPostContainer>\n  )\n}\n\nexport default NewPostPage\n","import styled from 'styled-components'\n\nexport const AboutContainer = styled.div`\n  max-width: 600px;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto;\n`\n\nexport const AboutText = styled.div`\n  text-align: center;\n  line-height: 2;\n  font-size: 32px;\n`\n","import React from 'react'\nimport {AboutContainer, AboutText} from './AboutPageStyle'\n\nfunction AboutPage() {\n  return (\n    <AboutContainer>\n      <AboutText>\n        我是 YO\n        <br />\n        這是一個模仿 [FE302]\n        <br />\n        再加上自己的想法\n        <br />\n        集合而成的部落格\n      </AboutText>\n    </AboutContainer>\n  )\n}\n\nexport default AboutPage\n","import React, { useState, useEffect } from 'react'\r\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport GlobalStyle from '../../style/globalStyle'\r\nimport Header from '../Header'\r\nimport HomePage from '../../pages/HomePage'\r\nimport PostListPage from '../../pages/PostListPage'\r\nimport PostPage from '../../pages/PostPage'\r\nimport LoginPage from '../../pages/LoginPage'\r\nimport LoadingPage from '../../pages/LoadingPage'\r\nimport RegisterPage from '../../pages/RegisterPage'\r\nimport NewPostPage from '../../pages/NewPostPage'\r\nimport AboutPage from '../../pages/AboutPage'\r\nimport { AuthContext, LoadingContext } from '../../contexts'\r\nimport { getMe } from '../../WebAPI'\r\nimport { getAuthToken } from '../../utils'\r\n\r\nconst Root = styled.div`\r\n  padding-top: 64px;\r\n`\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(null)\r\n  const [isUser, setIsUser] = useState(null)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setIsUser(false)\r\n    const getToken = getAuthToken()\r\n    if (!getToken) return setIsUser(true)\r\n\r\n    getMe().then((response) => {\r\n      if (response.ok) {\r\n        setUser(response.data)\r\n        setIsUser(true)\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, setUser }}>\r\n      <LoadingContext.Provider value={{ isLoading, setIsLoading }}>\r\n        <Root>\r\n          <Router>\r\n            <GlobalStyle />\r\n            <Header isUser={isUser} />\r\n            {isLoading && <LoadingPage />}\r\n            <Switch>\r\n              <Route exact path=\"/\">\r\n                <HomePage />\r\n              </Route>\r\n              <Route path=\"/posts-list\">\r\n                <PostListPage />\r\n              </Route>\r\n              <Route path=\"/posts/:id\">\r\n                <PostPage />\r\n              </Route>\r\n              <Route path=\"/new-post\">\r\n                <NewPostPage />\r\n              </Route>\r\n              <Route path=\"/about\">\r\n                <AboutPage />\r\n              </Route>\r\n              <Route path=\"/register\">\r\n                <RegisterPage />\r\n              </Route>\r\n              <Route path=\"/login\">\r\n                <LoginPage />\r\n              </Route>\r\n            </Switch>\r\n          </Router>\r\n        </Root>\r\n      </LoadingContext.Provider>\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}