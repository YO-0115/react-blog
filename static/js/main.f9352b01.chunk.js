(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{429:function(n,t,e){"use strict";e.r(t);var r,c=e(1),a=e(82),o=e.n(a),s=e(8),i=e(2),u=e(13),b=e(10),l=e(3),d=Object(l.a)(r||(r=Object(i.a)(["\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n  }\n  \n  a {\n    text-decoration: none;\n    display: flex;\n    transition: all 0.1s;\n  \n    &:hover {\n      cursor: pointer;\n    }\n  }\n\n  input {\n    outline: none;\n    border: none;\n  }\n  \n  button {\n    border: none;\n    cursor: pointer;\n\n    &:hover, \n    &:focus {\n      outline: none;\n    }\n  }\n\n  hr {\n    border: none;\n    border-bottom: 1px solid #ccc;\n    margin-bottom: 16px;\n  }\n"]))),p=Object(c.createContext)(null),j=Object(c.createContext)(null),x="token",f=function(n){localStorage.setItem(x,n)},h=function(){return localStorage.getItem(x)};var O,g,v,m,w,y,k,S="@media screen and (max-width: 768px)",C=l.b.div(O||(O=Object(i.a)(["\n  height: 64px;\n  display: flex;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  padding: 0 32px;\n  background: white;\n  z-index: 50;\n\n  "," {\n    justify-content: space-between;\n  }\n"])),S),z=l.b.span(g||(g=Object(i.a)(["\n  display: block;\n  width: 32px;\n  height: 4px;\n  margin-top: 5px;\n  background: #333;\n  transition: all 0.1s;\n"]))),A=l.b.div(v||(v=Object(i.a)(["\n  display: none;\n  transition: all 0.1s;\n\n  "," {\n    cursor: pointer;\n    display: block;\n\n    &:hover "," {\n      background: #145df6;\n    }\n  }\n"])),S,z),E=Object(l.b)(u.b)(m||(m=Object(i.a)(["\n  font-size: 32px;\n  font-weight: bold;\n  color: black;\n  transition: all 0.1s;\n  margin-right: 32px;\n\n  &:hover {\n    color: #145df6;\n  }\n"]))),L=l.b.div(w||(w=Object(i.a)(["\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  "," {\n    display: none;\n\n    ","\n  }\n"])),S,(function(n){return n.$isMenuOpen&&"\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      position: fixed;\n      //justify-content: flex-start;\n      padding-top: 32px;\n      top: 64px;\n      left: 0;\n      width: 100%;\n      border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n      background: white;\n    "})),F=l.b.div(y||(y=Object(i.a)(["\n  display: flex;\n  align-items: center;\n  height: 64px;\n\n  "," {\n    flex-direction: column;\n    width: 100%;\n    //margin-bottom: 16px;\n    height: auto;\n  }\n"])),S),P=Object(l.b)(u.c)(k||(k=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100px;\n  color: black;\n  transition: all 0.1s;\n\n  &:before {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    width: 0;\n    height: 2px;\n    background: #145df6;\n    transition: width 0.5s;\n  }\n\n  &:hover:before {\n    width: 100px;\n  }\n\n  "," {\n    margin-bottom: 16px;\n    width: 100%;\n\n    &:before {\n      content: '';\n      position: absolute;\n      bottom: 0;\n      width: 0;\n      height: 0;\n    }\n\n    &:hover:before {\n      width: 0;\n    }\n\n    &:hover {\n      font-weight: 600;\n      color: #145df6;\n    }\n  }\n"])),S),D=e(0),I={"font-weight":"600","border-bottom":"2px solid rgba(0, 0, 0, 0.5)"};var _,B,M,T,$,U,J,Y,N,H,q=function(n){var t=n.isUser,e=Object(c.useContext)(p),r=e.user,a=e.setUser,o=Object(c.useState)(!1),i=Object(s.a)(o,2),u=i[0],b=i[1];return console.log(u),Object(D.jsxs)(C,{children:[Object(D.jsx)(E,{to:"/",children:"Blog"}),Object(D.jsxs)(A,{$isMenuOpen:u,onClick:function(){return b(!u)},children:[Object(D.jsx)(z,{}),Object(D.jsx)(z,{}),Object(D.jsx)(z,{})]}),t&&Object(D.jsxs)(L,{$isMenuOpen:u,children:[Object(D.jsxs)(F,{children:[Object(D.jsx)(P,{to:"/posts-list",activeStyle:I,onClick:function(){return b(!1)},children:"\u6587\u7ae0\u5217\u8868"}),Object(D.jsx)(P,{to:"/about",activeStyle:I,onClick:function(){return b(!1)},children:"\u95dc\u65bc\u6211"}),r&&Object(D.jsx)(P,{to:"/new-post",activeStyle:I,onClick:function(){return b(!1)},children:"\u767c\u5e03\u6587\u7ae0"})]}),Object(D.jsxs)(F,{children:[!r&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(P,{to:"/register",activeStyle:I,onClick:function(){return b(!1)},children:"\u8a3b\u518a"}),Object(D.jsx)(P,{to:"/login",activeStyle:I,onClick:function(){return b(!1)},children:"\u767b\u5165"})]}),r&&Object(D.jsx)(P,{to:"/",onClick:function(){f(""),a(null),b(!1)},children:"\u767b\u51fa"})]})]})]})},G=e(5),K=e.n(G),Q=e(9),R=e(29),V="https://student-json-api.lidemy.me",W=function(){var n=Object(Q.a)(K.a.mark((function n(t,e,r){var c,a;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(V,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:t,username:e,password:r})});case 3:return c=n.sent,n.next=6,c.json();case 6:return a=n.sent,n.abrupt("return",a);case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(t,e,r){return n.apply(this,arguments)}}(),X=function(){var n=Object(Q.a)(K.a.mark((function n(t,e){var r,c;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(V,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:t,password:e})});case 3:return r=n.sent,n.next=6,r.json();case 6:return c=n.sent,n.abrupt("return",c);case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(t,e){return n.apply(this,arguments)}}(),Z=function(){var n=Object(Q.a)(K.a.mark((function n(){var t,e,r;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=h(),n.prev=1,n.next=4,fetch("".concat(V,"/me"),{headers:{authorization:"Bearer ".concat(t)}});case 4:return e=n.sent,n.next=7,e.json();case 7:return r=n.sent,n.abrupt("return",r);case 11:n.prev=11,n.t0=n.catch(1),console.log(n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(){return n.apply(this,arguments)}}(),nn=function(){var n=Object(Q.a)(K.a.mark((function n(){var t,e;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(V,"/posts?_sort=createdAt&_order=desc"));case 3:return t=n.sent,n.next=6,t.json();case 6:return e=n.sent,n.abrupt("return",e);case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}(),tn=function(){var n=Object(Q.a)(K.a.mark((function n(t){var e,r,c;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(V,"/posts?&_page=").concat(t,"&_limit=").concat(5,"&_expand=user&_sort=createdAt&_order=desc"));case 3:return e=n.sent,n.next=6,e.json();case 6:return r=n.sent,c=e.headers.get("x-total-count"),n.abrupt("return",{data:r,total:c});case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(t){return n.apply(this,arguments)}}(),en=function(){var n=Object(Q.a)(K.a.mark((function n(t){var e,r;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(V,"/posts/").concat(t,"?_expand=user"));case 3:return e=n.sent,n.next=6,e.json();case 6:return r=n.sent,n.abrupt("return",r);case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(t){return n.apply(this,arguments)}}(),rn=function(){var n=Object(Q.a)(K.a.mark((function n(t){var e,r;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(V,"/users/").concat(t,"?_embed=posts"));case 3:return e=n.sent,n.next=6,e.json();case 6:return r=n.sent,console.log(r),n.abrupt("return",r);case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(t){return n.apply(this,arguments)}}(),cn=function(){var n=Object(Q.a)(K.a.mark((function n(t,e){var r,c,a;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=h(),n.prev=1,n.next=4,fetch("".concat(V,"/posts"),{method:"POST",headers:{authorization:"Bearer ".concat(r),"content-type":"application/json"},body:JSON.stringify({title:t,body:e})});case 4:return c=n.sent,n.next=7,c.json();case 7:return a=n.sent,n.abrupt("return",a);case 11:n.prev=11,n.t0=n.catch(1),console.log(n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(t,e){return n.apply(this,arguments)}}(),an=function(){var n=Object(Q.a)(K.a.mark((function n(t){var e,r,c;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=h(),n.prev=1,n.next=4,fetch("".concat(V,"/posts/").concat(t),{method:"DELETE",headers:{authorization:"Bearer ".concat(e),"content-type":"application/json"}});case 4:return r=n.sent,n.next=7,r.json;case 7:return c=n.sent,n.abrupt("return",c);case 11:n.prev=11,n.t0=n.catch(1),console.log(n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(t){return n.apply(this,arguments)}}(),on=l.b.div(_||(_=Object(i.a)(["\n  padding: 16px;\n  max-width: 800px;\n  margin: 40px auto;\n"]))),sn=Object(l.b)(u.b)(B||(B=Object(i.a)(["\n  border: 1px solid #ccc;\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);\n  color: #333;\n  transition: all 0.1s;\n\n  & + & {\n    margin-top: 24px;\n  }\n\n  &:hover {\n    color: blue;\n  }\n"]))),un=l.b.div(M||(M=Object(i.a)(["\n  font-size: 24px;\n  font-weight: 600;\n  margin-bottom: 16px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),bn=l.b.div(T||(T=Object(i.a)(["\n  font-size: 18px;\n  line-height: 1.5;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 4;\n  -webkit-box-orient: vertical;\n  color: #333;\n\n  word-wrap: break-word;\n  word-break: break-all;\n  white-space: pre-wrap;\n"]))),ln=l.b.div($||($=Object(i.a)(["\n  font-size: 14px;\n  margin-bottom: 4px;\n  color: rgba(0, 0, 0, 0.5);\n"]))),dn=l.b.div(U||(U=Object(i.a)(["\n  color: rgba(0, 0, 0, 0.5);\n  font-size: 14px;\n  margin-bottom: 16px;\n"]))),pn=l.b.div(J||(J=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: baseline;\n  margin: 28px 0 8px;\n"]))),jn=l.b.div(Y||(Y=Object(i.a)(["\n  cursor: pointer;\n  font-weight: bold;\n  transition: all 0.1s;\n\n  &:hover {\n    color: #145df6;\n  }\n"]))),xn=l.b.div(N||(N=Object(i.a)(["\n  margin: 0 16px;\n"]))),fn=l.b.div(H||(H=Object(i.a)(["\n  text-align: center;\n"])));function hn(n){var t=n.post;return Object(D.jsxs)(sn,{to:"/posts/".concat(t.id),children:[Object(D.jsx)(un,{children:t.title}),Object(D.jsx)(ln,{children:t.user&&t.user.nickname}),Object(D.jsx)(dn,{children:new Date(t.createdAt).toLocaleDateString()}),Object(D.jsx)(bn,{children:Object(D.jsx)(R.a.Markdown,{source:t.body})})]})}var On,gn,vn,mn,wn,yn,kn,Sn,Cn=function(){var n=Object(c.useContext)(j).setIsLoading,t=Object(c.useState)([]),e=Object(s.a)(t,2),r=e[0],a=e[1],o=Object(c.useState)(1),i=Object(s.a)(o,2),u=i[0],b=i[1],l=Object(c.useState)(0),d=Object(s.a)(l,2),p=d[0],x=d[1],f=Object(c.useState)(null),h=Object(s.a)(f,2),O=h[0],g=h[1];return Object(c.useLayoutEffect)((function(){var t=function(){var t=Object(Q.a)(K.a.mark((function t(){var e;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(!0),g(!1),t.next=4,tn(u);case 4:e=t.sent,a(e.data),x(Math.ceil((e.total-1)/5)),n(!1),g(!0);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[n,u,p]),Object(D.jsxs)(on,{children:[r.map((function(n){return Object(D.jsx)(hn,{post:n},n.id)})),O&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)(pn,{children:[Object(D.jsx)(jn,{onClick:function(){u>1&&b(u-1),window.scrollTo(0,0)},children:"\uff1c"}),Object(D.jsx)(xn,{children:u}),Object(D.jsx)(jn,{onClick:function(){u<p&&b(u+1),window.scrollTo(0,0)},children:"\uff1e"})]}),Object(D.jsxs)(fn,{children:[u," / ",p]})]})]})},zn=e(7),An=e(92),En=l.b.div(On||(On=Object(i.a)(["\n  padding: 16px;\n  max-width: 800px;\n  margin: 40px auto;\n"]))),Ln=l.b.div(gn||(gn=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Fn=l.b.div(vn||(vn=Object(i.a)(["\n  margin: 0 8px;\n  cursor: pointer;\n  color: ",";\n  font-weight: ",";\n  transition: all 0.1s;\n\n  &:hover {\n    color: #145df6;\n  }\n"])),(function(n){return n.$active?"black":"gray"}),(function(n){return n.$active?"600":""})),Pn=l.b.div(mn||(mn=Object(i.a)(["\n  padding-top: 32px;\n\n  & + & {\n    margin-top: 32px;\n  }\n"]))),Dn=l.b.span(wn||(wn=Object(i.a)(["\n  display: inline-block;\n  font-size: 32px;\n  font-weight: 600;\n  margin-bottom: 24px;\n  border-bottom: 3px solid #145df6;\n"]))),In=Object(l.b)(u.b)(yn||(yn=Object(i.a)(["\n  padding: 8px 24px;\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n  background: white;\n  transition: all 0.1s;\n\n  &:hover {\n    transform: scale(1.1);\n    border: 1px solid #ccc;\n    box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);\n  }\n"]))),_n=l.b.div(kn||(kn=Object(i.a)(["\n  font-size: 24px;\n  color: #333;\n  max-width: 600px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),Bn=l.b.div(Sn||(Sn=Object(i.a)(["\n  color: rgba(0, 0, 0, 0.7);\n  font-size: 14px;\n"])));function Mn(n){var t=n.post;return Object(D.jsxs)(In,{to:"/posts/".concat(t.id),children:[Object(D.jsx)(_n,{children:t.title}),Object(D.jsx)(Bn,{children:new Date(t.createdAt).toLocaleDateString().substring(5,10)})]})}var Tn=function(){var n=Object(c.useContext)(p).user,t=Object(c.useContext)(j).setIsLoading,e=Object(c.useState)([]),r=Object(s.a)(e,2),a=r[0],o=r[1],i=Object(c.useState)("allPosts"),u=Object(s.a)(i,2),b=u[0],l=u[1],d=Object(c.useState)([]),x=Object(s.a)(d,2),f=x[0],h=x[1];Object(c.useLayoutEffect)((function(){var e=function(){var e=Object(Q.a)(K.a.mark((function e(){var r,c,a,s;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(!0),!n){e.next=11;break}return r=n.id,e.next=5,rn(r);case 5:return c=e.sent,a=c.posts.sort((function(n,t){return n.createdAt<t.createdAt?1:-1})),o(a),l("myPosts"),t(!1),e.abrupt("return");case 11:return e.next=13,nn();case 13:s=e.sent,o(s),t(!1);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,n]),Object(c.useEffect)((function(){var n,t=[],e=Object(An.a)(a);try{for(e.s();!(n=e.n()).done;){var r=n.value;t.push(new Date(r.createdAt).getFullYear())}}catch(c){e.e(c)}finally{e.f()}h(Object(zn.a)(new Set(t)))}),[a]);var O=function(){l("allPosts");var n=function(){var n=Object(Q.a)(K.a.mark((function n(){var e;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(!0),n.next=3,nn();case 3:e=n.sent,o(e),t(!1);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()},g=function(){l("myPosts");var e=function(){var e=Object(Q.a)(K.a.mark((function e(){var r,c,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),r=n.id,e.next=4,rn(r);case 4:c=e.sent,a=c.posts.sort((function(n,t){return n.createdAt<t.createdAt?1:-1})),o(a),t(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()};return Object(D.jsxs)(En,{children:[n&&Object(D.jsxs)(Ln,{children:["allPosts"===b&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Fn,{$active:!0,onClick:O,children:"all posts"})," ","/",Object(D.jsx)(Fn,{onClick:g,children:"my posts"})]}),"myPosts"===b&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Fn,{onClick:O,children:"all posts"})," ","/",Object(D.jsx)(Fn,{$active:!0,onClick:g,children:"my posts"})]})]}),f.map((function(n,t){return Object(D.jsxs)(Pn,{children:[Object(D.jsx)(Dn,{children:n}),a.filter((function(t){return new Date(t.createdAt).getFullYear()===n})).map((function(n){return Object(D.jsx)(Mn,{post:n},n.id)}))]},t)}))]})},$n="comments-container";var Un,Jn,Yn,Nn,Hn,qn,Gn,Kn,Qn=function(){return Object(c.useEffect)((function(){var n=document.createElement("script");n.src="https://utteranc.es/client.js",n.setAttribute("repo","YO-0115/react-blog"),n.setAttribute("issue-term","pathname"),n.setAttribute("theme","github-light"),n.setAttribute("crossorigin","anonymous"),n.async=!0;var t=document.getElementById($n);return t&&t.appendChild(n),function(){var n=document.getElementById($n);n&&(n.innerHTML="")}}),[]),Object(D.jsx)("div",{id:$n})},Rn=l.b.div(Un||(Un=Object(i.a)(["\n  width: 70%;\n  margin: 56px auto;\n  position: relative;\n"]))),Vn=l.b.div(Jn||(Jn=Object(i.a)(["\n  position: absolute;\n  right: 0;\n  top: 10px;\n  cursor: pointer;\n  transition: all 0.1s;\n\n  &:hover {\n    color: #145df6;\n    font-weight: 600;\n  }\n"]))),Wn=l.b.div(Yn||(Yn=Object(i.a)(["\n  font-size: 28px;\n  font-weight: bold;\n  text-align: center;\n  padding-bottom: 16px;\n  border-bottom: 1px solid #ccc;\n  word-wrap: break-word;\n  word-break: break-all;\n"]))),Xn=l.b.div(Nn||(Nn=Object(i.a)(["\n  padding: 16px 18px 0;\n  max-width: 800px;\n  margin: 0 auto 54px;\n"]))),Zn=l.b.div(Hn||(Hn=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 24px;\n"]))),nt=l.b.div(qn||(qn=Object(i.a)(["\n  font-size: 16px;\n  color: #333;\n  margin-bottom: 4px;\n"]))),tt=l.b.div(Gn||(Gn=Object(i.a)(["\n  font-size: 14px;\n  text-align: right;\n  color: gray;\n"]))),et=l.b.div(Kn||(Kn=Object(i.a)(["\n  margin-bottom: 28px;\n  word-wrap: break-word;\n  word-break: break-all;\n  white-space: pre-wrap;\n"])));var rt,ct,at,ot,st,it,ut,bt=function(){var n=Object(b.h)().id,t=Object(c.useContext)(p).user,e=Object(c.useContext)(j).setIsLoading,r=Object(b.f)(),a=Object(c.useState)({}),o=Object(s.a)(a,2),i=o[0],u=o[1],l=Object(c.useState)(null),d=Object(s.a)(l,2),x=d[0],f=d[1];return Object(c.useLayoutEffect)((function(){var t=function(){var t=Object(Q.a)(K.a.mark((function t(){var r;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0),t.next=3,en(n);case 3:r=t.sent,u(r),f(r.user.id),e(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e,n]),Object(D.jsxs)(Rn,{children:[t&&t.id===x&&Object(D.jsx)(Vn,{onClick:function(){an(n).then((function(){r.goBack()}))},children:"\u522a\u9664"}),Object(D.jsx)(Wn,{children:i.title}),Object(D.jsxs)(Xn,{children:[Object(D.jsxs)(Zn,{children:[Object(D.jsx)(nt,{children:i.user&&i.user.nickname}),Object(D.jsx)(tt,{children:new Date(i.createdAt).toLocaleDateString()})]}),Object(D.jsx)(et,{children:Object(D.jsx)(R.a.Markdown,{source:i.body})})]}),Object(D.jsx)("hr",{}),Object(D.jsx)(Qn,{})]})},lt=Object(l.c)(rt||(rt=Object(i.a)(["\n  0% {\n    border-bottom: 1px solid #ccc;\n  }\n\n  50% {\n    border-bottom: 1px solid #145df6;\n    color: #145df6;\n  }\n\n  100% {\n    border-bottom: 1px solid #ccc;\n  }\n"]))),dt=l.b.form(ct||(ct=Object(i.a)(["\n  width: 70%;\n  margin: 56px auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n"]))),pt=l.b.button(at||(at=Object(i.a)(["\n  font-size: 28px;\n  font-weight: bold;\n  text-align: center;\n  padding-bottom: 16px;\n  width: 100%;\n  margin-bottom: 54px;\n  border-bottom: 1px solid #ccc;\n  animation: "," 2s infinite;\n  background: none;\n"])),lt),jt=l.b.label(ot||(ot=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  & + & {\n    margin-top: 48px;\n  }\n"]))),xt=l.b.div(st||(st=Object(i.a)(["\n  margin-right: 24px;\n  color: #333;\n  font-weight: 600;\n"]))),ft=l.b.input(it||(it=Object(i.a)(["\n  display: block;\n  padding: 6px 0;\n\n  &::-webkit-input-placeholder {\n    text-align: center;\n  }\n\n  &:focus {\n    border-bottom: 1px solid #ccc;\n  }\n"]))),ht=l.b.div(ut||(ut=Object(i.a)(["\n  color: red;\n  position: absolute;\n  top: 70px;\n"])));var Ot,gt,vt,mt=function(){var n=Object(c.useContext)(p).setUser,t=Object(c.useState)(""),e=Object(s.a)(t,2),r=e[0],a=e[1],o=Object(c.useState)(""),i=Object(s.a)(o,2),u=i[0],l=i[1],d=Object(c.useState)(),j=Object(s.a)(d,2),x=j[0],h=j[1],O=Object(b.f)(),g=function(){var t=Object(Q.a)(K.a.mark((function t(e){var c,a;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),h(null),t.next=4,X(r,u);case 4:if((c=t.sent).ok){t.next=8;break}return h(c.message),t.abrupt("return");case 8:return f(c.token),t.next=11,Z();case 11:if(a=t.sent){t.next=16;break}return f(null),h(a.toString()),t.abrupt("return");case 16:n(a.data),O.push("/");case 18:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),v=function(){h(null)};return Object(D.jsxs)(dt,{onSubmit:g,children:[Object(D.jsx)(pt,{children:"\u767b\u5165"}),x&&Object(D.jsx)(ht,{children:x}),Object(D.jsxs)(jt,{children:[Object(D.jsx)(xt,{children:"username"}),Object(D.jsx)(ft,{value:r,onChange:function(n){a(n.target.value)},onFocus:v})]}),Object(D.jsxs)(jt,{children:[Object(D.jsx)(xt,{children:"password"}),Object(D.jsx)(ft,{type:"password",value:u,onChange:function(n){l(n.target.value)},onFocus:v})]})]})},wt=Object(l.c)(Ot||(Ot=Object(i.a)(["\n  0% {\n    border-bottom: 3px solid #ccc;\n  }\n\n  50% {\n    border-bottom: 3px solid #145df6;\n    color: #333;\n  }\n\n  100% {\n    border-bottom: 3px solid #ccc;\n  }\n"]))),yt=l.b.div(gt||(gt=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background: white;\n  z-index: 10;\n"]))),kt=l.b.div(vt||(vt=Object(i.a)(["\n  font-size: 48px;\n  padding: 0 24px 16px;\n  color: #ccc;\n  animation: "," 2s infinite;\n"])),wt);var St=function(){return Object(D.jsx)(yt,{children:Object(D.jsx)(kt,{children:"Loading"})})};var Ct,zt,At,Et,Lt,Ft,Pt,Dt,It=function(){var n=Object(c.useContext)(p).setUser,t=Object(c.useState)(""),e=Object(s.a)(t,2),r=e[0],a=e[1],o=Object(c.useState)(""),i=Object(s.a)(o,2),u=i[0],l=i[1],d=Object(c.useState)(""),j=Object(s.a)(d,2),x=j[0],h=j[1],O=Object(c.useState)(),g=Object(s.a)(O,2),v=g[0],m=g[1],w=Object(b.f)(),y=function(){var t=Object(Q.a)(K.a.mark((function t(e){var c,a;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),m(null),t.next=4,W(r,u,x);case 4:if((c=t.sent).ok){t.next=8;break}return m(c.message),t.abrupt("return");case 8:return f(c.token),t.next=11,Z();case 11:if(a=t.sent){t.next=16;break}return f(null),m(a.toString()),t.abrupt("return");case 16:n(a.data),w.push("/");case 18:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),k=function(){m(null)};return Object(D.jsxs)(dt,{onSubmit:y,children:[Object(D.jsx)(pt,{children:"\u8a3b\u518a"}),v&&Object(D.jsx)(ht,{children:v}),Object(D.jsxs)(jt,{children:[Object(D.jsx)(xt,{children:"nickname"}),Object(D.jsx)(ft,{value:r,onChange:function(n){a(n.target.value)},onFocus:k})]}),Object(D.jsxs)(jt,{children:[Object(D.jsx)(xt,{children:"username"}),Object(D.jsx)(ft,{value:u,onChange:function(n){l(n.target.value)},onFocus:k})]}),Object(D.jsxs)(jt,{children:[Object(D.jsx)(xt,{children:"password"}),Object(D.jsx)(ft,{type:"password",value:x,onChange:function(n){h(n.target.value)},onFocus:k})]})]})},_t=Object(l.c)(Ct||(Ct=Object(i.a)(["\n  0% {\n    border-bottom: 1px solid #ccc;\n  }\n\n  50% {\n    border-bottom: 1px solid #145df6;\n    color: #145df6;\n  }\n\n  100% {\n    border-bottom: 1px solid #ccc;\n  }\n"]))),Bt=l.b.div(zt||(zt=Object(i.a)(["\n  max-width: 800px;\n  margin: 56px auto;\n  padding: 24px;\n  display: flex;\n  flex-direction: column;\n"]))),Mt=l.b.label(At||(At=Object(i.a)(["\n  margin-bottom: 54px;\n  width: 100%;\n"]))),Tt=l.b.input(Et||(Et=Object(i.a)(["\n  width: 100%;\n  padding: 4px 8px;\n  text-overflow: ellipsis;\n  overflow: auto;\n\n  &:focus {\n    border-bottom: 1px solid #333;\n  }\n"]))),$t=l.b.label(Lt||(Lt=Object(i.a)(["\n  display: block;\n  margin-bottom: 54px;\n"]))),Ut=(l.b.textarea(Ft||(Ft=Object(i.a)(["\n  width: 100%;\n  padding: 16px 8px;\n"]))),l.b.button(Pt||(Pt=Object(i.a)(["\n  background: none;\n  padding-bottom: 4px;\n  font-size: 18px;\n  font-weight: bold;\n  animation: "," 2s infinite;\n"])),_t)),Jt=l.b.div(Dt||(Dt=Object(i.a)(["\n  color: red;\n  text-align: center;\n  margin-top: 16px;\n"])));var Yt,Nt,Ht=function(){var n=Object(c.useState)(""),t=Object(s.a)(n,2),e=t[0],r=t[1],a=Object(c.useState)(""),o=Object(s.a)(a,2),i=o[0],u=o[1],l=Object(c.useState)(),d=Object(s.a)(l,2),p=d[0],j=d[1],x=Object(b.f)(),f=function(){var n=Object(Q.a)(K.a.mark((function n(t){var r;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),j(null),e&&i){n.next=4;break}return n.abrupt("return",j("\u672a\u78ba\u5be6\u586b\u5beb"));case 4:return n.next=6,cn(e,i);case 6:(r=n.sent).id&&x.push("/posts/".concat(r.id));case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return Object(D.jsxs)(Bt,{children:[Object(D.jsx)(Mt,{children:Object(D.jsx)(Tt,{onFocus:function(){j(null)},onChange:function(n){r(n.target.value)},placeholder:"\u8f38\u5165\u6a19\u984c..."})}),Object(D.jsx)($t,{children:Object(D.jsx)(R.a,{value:i,height:300,textareaProps:{placeholder:"Please enter Markdown text"},onChange:u})}),Object(D.jsx)(Ut,{onClick:f,children:"\u9001\u51fa"}),p&&Object(D.jsx)(Jt,{children:p})]})},qt=l.b.div(Yt||(Yt=Object(i.a)(["\n  max-width: 600px;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto;\n"]))),Gt=l.b.div(Nt||(Nt=Object(i.a)(["\n  text-align: center;\n  line-height: 2;\n  font-size: 32px;\n"])));var Kt,Qt=function(){return Object(D.jsx)(qt,{children:Object(D.jsxs)(Gt,{children:["\u6211\u662f YO",Object(D.jsx)("br",{}),"\u9019\u662f\u4e00\u500b\u6a21\u4eff [FE302]",Object(D.jsx)("br",{}),"\u518d\u52a0\u4e0a\u81ea\u5df1\u7684\u60f3\u6cd5",Object(D.jsx)("br",{}),"\u96c6\u5408\u800c\u6210\u7684\u90e8\u843d\u683c"]})})},Rt=l.b.div(Kt||(Kt=Object(i.a)(["\n  padding-top: 64px;\n"])));var Vt=function(){var n=Object(c.useState)(null),t=Object(s.a)(n,2),e=t[0],r=t[1],a=Object(c.useState)(null),o=Object(s.a)(a,2),i=o[0],l=o[1],x=Object(c.useState)(!1),f=Object(s.a)(x,2),O=f[0],g=f[1];return Object(c.useEffect)((function(){if(l(!1),!h())return l(!0);Z().then((function(n){n.ok&&(r(n.data),l(!0))}))}),[]),Object(D.jsx)(p.Provider,{value:{user:e,setUser:r},children:Object(D.jsx)(j.Provider,{value:{isLoading:O,setIsLoading:g},children:Object(D.jsx)(Rt,{children:Object(D.jsxs)(u.a,{children:[Object(D.jsx)(d,{}),Object(D.jsx)(q,{isUser:i}),O&&Object(D.jsx)(St,{}),Object(D.jsxs)(b.c,{children:[Object(D.jsx)(b.a,{exact:!0,path:"/",children:Object(D.jsx)(Cn,{})}),Object(D.jsx)(b.a,{path:"/posts-list",children:Object(D.jsx)(Tn,{})}),Object(D.jsx)(b.a,{path:"/posts/:id",children:Object(D.jsx)(bt,{})}),Object(D.jsx)(b.a,{path:"/new-post",children:Object(D.jsx)(Ht,{})}),Object(D.jsx)(b.a,{path:"/about",children:Object(D.jsx)(Qt,{})}),Object(D.jsx)(b.a,{path:"/register",children:Object(D.jsx)(It,{})}),Object(D.jsx)(b.a,{path:"/login",children:Object(D.jsx)(mt,{})})]})]})})})})};o.a.render(Object(D.jsx)(Vt,{}),document.getElementById("root"))}},[[429,1,2]]]);
//# sourceMappingURL=main.f9352b01.chunk.js.map